{"version":3,"file":"static/js/652.0cecf7b6.chunk.js","mappings":"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","sources":["pages/Hospital/HospitalList/index.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {usePageInfo} from \"@/store/slices/common\";\r\nimport {Button, Space, Table, Switch, Form,Select,Input} from \"antd\";\r\nimport {\r\n    getHospitalListAsync,\r\n    getHospitalStatusAsync,\r\n    useHospitalListSelector\r\n} from \"@/store/slices/hospitalList\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {SearchOutlined} from \"@ant-design/icons\";\r\nimport {clearList, upCityList, upDistrictList, upProvinceList, useCmnSelector} from \"@/store/slices/cmn\";\r\nimport {getFindByParentId} from \"@/api/cmn\";\r\n\r\nconst HospitalList = () => {\r\n    const dispatch:any = useDispatch();\r\n    const {pageInfo} = usePageInfo();\r\n    const {hospitalLists} = useHospitalListSelector();\r\n    const {provinceList,cityList,districtList} = useCmnSelector();\r\n    const [formValue,setFormValue] = useState({});\r\n    const navigate = useNavigate();\r\n    const [form] = Form.useForm();\r\n    useEffect(()=>{\r\n        dispatch(getHospitalListAsync());\r\n        getFindByParentId(86).then(value=>{\r\n            const provinceList = value.data.map((item:any)=> {\r\n                return {\r\n                    value: item.value,\r\n                    label: item.name\r\n                }\r\n            })\r\n            dispatch(upProvinceList(provinceList));\r\n        })\r\n    },[]);\r\n    const columns:any = [\r\n        { title: '序号',\r\n            dataIndex: 'id',\r\n            width:80,\r\n            align:\"center\",\r\n            render(text:any, record:any, index:any){\r\n                return (pageInfo.current-1)*pageInfo.pageSize+(index+1);\r\n            }\r\n        },\r\n        { title: '医院名称', dataIndex: 'hosname',width:200,align:\"center\"},\r\n        { title: '医院编号', dataIndex: 'hoscode',align:\"center\"},\r\n        { title: '医院LOGO', dataIndex: '',align:\"center\",\r\n            render(text:any){\r\n                return(\r\n                    <img src={\"data:image/gif;base64,\"+ text.logoData} alt=\"\"\r\n                         style={{width:\"50px\"}} />\r\n                )\r\n            }\r\n        },\r\n        { title: '是否上线', dataIndex: 'status',align:\"center\",\r\n            render(text:any,record:any){\r\n                return( <Switch checked={text===1} onChange={(checked: boolean) => {\r\n                    dispatch(getHospitalStatusAsync(record.id,text===1?0:1));\r\n                }} />)\r\n            }\r\n        },\r\n        { title: '医院等级', dataIndex: ['param','hostypeString'],align:\"center\"},\r\n        { title: '医院地址', dataIndex: ['param','fullAddress'],align:\"center\"},\r\n        { title: '创建时间', dataIndex: 'createTime',width:200,align:\"center\"},\r\n        { title: '操作', dataIndex: '',align:\"center\", fixed:\"right\",\r\n            render(record:any){\r\n                return(\r\n                    <Space>\r\n                        <Button type=\"primary\" onClick={()=>{\r\n                            navigate(\"/hospital/show/\"+record.id);\r\n                        }}>查看</Button>\r\n                        <Button type=\"primary\"\r\n                            onClick={()=>{\r\n                                navigate(\"/hospital/department/\"+record.hoscode);\r\n                            }}\r\n                        >排班</Button>\r\n                    </Space>\r\n\r\n                )\r\n            }\r\n        },\r\n    ];\r\n    return (\r\n        <Space direction={\"vertical\"} style={{width:\"100%\"}}>\r\n            <Form layout={\"inline\"} form={form}\r\n                  onFinish={(values:any)=>{\r\n                      console.log(values);\r\n                      setFormValue(values)\r\n                      dispatch(getHospitalListAsync(1,5,values));\r\n                  }}\r\n            >\r\n                <Form.Item name={\"provinceCode\"}>\r\n                    <Select style={{ width: 100 }} placeholder={\"请选择省\"} onChange={(value:any)=>{\r\n                        getFindByParentId(value).then(value=>{\r\n                            const cityList = value.data.map((item:any)=> {\r\n                                return {\r\n                                    value: item.value,\r\n                                    label: item.name\r\n                                }\r\n                            })\r\n                            dispatch(upCityList(cityList));\r\n                            form.setFieldsValue({\r\n                                cityCode:undefined,\r\n                                districtCode:undefined\r\n                            })\r\n                            dispatch(upDistrictList([]));\r\n                        })\r\n                    }}\r\n                    options={provinceList}\r\n                    />\r\n                </Form.Item >\r\n                <Form.Item name={'cityCode'}>\r\n                    <Select style={{ width: 100 }} placeholder={\"请选择市\"} onChange={(value:any)=>{\r\n                        getFindByParentId(value).then(value=>{\r\n                            const districtList = value.data.map((item:any)=> {\r\n                                return {\r\n                                    value: item.value,\r\n                                    label: item.name\r\n                                }\r\n                            })\r\n                            dispatch(upDistrictList(districtList));\r\n                            form.setFieldsValue({\r\n                                districtCode:undefined\r\n                            })\r\n                        })\r\n                    }} options={cityList}\r\n                    />\r\n                </Form.Item >\r\n                <Form.Item name={'districtCode'}>\r\n                    <Select style={{ width: 100 }} placeholder={\"请选择区\"} options={districtList}/>\r\n                </Form.Item>\r\n                <Form.Item name={\"hosname\"} style={{ width: 100 }}>\r\n                    <Input placeholder={\"医院名称\"}/>\r\n                </Form.Item>\r\n                <Form.Item name={\"hoscode\"} style={{ width: 100 }}>\r\n                    <Input placeholder={\"医院编号\"}/>\r\n                </Form.Item>\r\n                <Form.Item name={'hostype'}>\r\n                    <Select style={{ width: 100 }} placeholder={\"医院类型\"}\r\n                            options={[\r\n                                {\r\n                                    value: '1',\r\n                                    label: '三级甲等',\r\n                                },\r\n                                {\r\n                                    value: '2',\r\n                                    label: '三级乙等',\r\n                                },\r\n                                {\r\n                                    value: '3',\r\n                                    label: '二级甲等',\r\n                                },\r\n                                {\r\n                                    value: '4',\r\n                                    label: '二级乙等',\r\n                                },\r\n                                {\r\n                                    value: '5',\r\n                                    label: '一级',\r\n                                }\r\n                            ]}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name={'status'}>\r\n                    <Select style={{ width: 100 }} placeholder={\"医院状态\"}\r\n                            options={[\r\n                                {\r\n                                    value: 1,\r\n                                    label: '已上线',\r\n                                },\r\n                                {\r\n                                    value: 0,\r\n                                    label: '未上线',\r\n                                }\r\n                            ]}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Space>\r\n                        <Button type={\"primary\"}\r\n                                htmlType={\"submit\"}\r\n                                icon={<SearchOutlined />}>搜索</Button>\r\n                        <Button onClick={()=>{\r\n                            form.resetFields();\r\n                            dispatch(clearList([]));\r\n                            dispatch(getHospitalListAsync());\r\n                        }}>清空</Button>\r\n                    </Space>\r\n                </Form.Item>\r\n            </Form>\r\n            <Table\r\n                columns={columns}\r\n                dataSource={hospitalLists}\r\n                scroll={{ x: 1500 }}\r\n                rowKey={\"id\"}\r\n                bordered\r\n                pagination={{\r\n                    ...pageInfo,\r\n                    onChange(page, pageSize){\r\n                        dispatch(getHospitalListAsync(page,pageSize,formValue))\r\n                    }\r\n                }\r\n                }\r\n            />\r\n        </Space>\r\n    );\r\n};\r\n\r\nexport default HospitalList;"],"names":["dispatch","useDispatch","pageInfo","usePageInfo","hospitalLists","useHospitalListSelector","useCmnSelector","provinceList","cityList","districtList","useState","formValue","setFormValue","navigate","useNavigate","Form","form","useEffect","getHospitalListAsync","getFindByParentId","then","value","data","map","item","label","name","upProvinceList","columns","title","dataIndex","width","align","render","text","record","index","current","pageSize","src","logoData","alt","style","checked","onChange","getHospitalStatusAsync","id","fixed","type","onClick","hoscode","direction","layout","onFinish","values","console","log","placeholder","upCityList","setFieldsValue","cityCode","undefined","districtCode","upDistrictList","options","htmlType","icon","resetFields","clearList","dataSource","scroll","x","rowKey","bordered","pagination","page"],"sourceRoot":""}